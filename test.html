<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta http-equiv="X-UA-Compatible" content="ie=edge" />

    <title>Test</title>
    <link rel="stylesheet" href="assets/css/bootstrap.min.css" />
    <style>
      .mr-t3 {
        margin-top: 3rem;
      }

      .mr-a1 {
        margin: 1rem;
      }

      .mr-tb1 {
        margin: 1rem 0rem;
      }

      #main-sec {
        background: #ccc;
        padding-bottom: 1rem;
        margin-bottom: 2rem;
      }

      .main-append {
        background: #ccc;
        padding-bottom: 1rem;
        margin-top: 2rem;
      }

      .main-append .remove {
        visibility: hidden;
      }

      .main-append:last-child .remove {
        visibility: visible;
      }
    </style>
  </head>
  <body>
    <form action="" method="post">
      <div id="main-sec" class="col-lg-6 col-ml-12">
        <button type="button" id="add" name="add" class="btn-primary mr-tb1">
          Add
        </button>
        <div class="form-group">
          <input
            type="number"
            name="tax1[]"
            id="tax11"
            placeholder="Tax 1"
            class="form-control prc"
          />
        </div>
        <div class="form-group">
          <input
            type="number"
            name="tax2[]"
            id="tax21"
            placeholder="Tax 2"
            class="form-control prc"
          />
        </div>
        <div class="form-group">
          <input
            type="number"
            name="tax3[]"
            id="tax31"
            placeholder="Tax 3"
            class="form-control prc"
          />
        </div>
        <div class="form-group">
          <input
            type="number"
            name="tax4[]"
            id="tax41"
            placeholder="Tax 4"
            class="form-control prc"
          />
        </div>
        <div class="form-group">
          <input
            type="number"
            name="tax5[]"
            id="tax51"
            placeholder="Tax 5"
            class="form-control prc"
          />
        </div>
        <div class="form-group">
          <input
            type="number"
            name="total[]"
            id="total1"
            placeholder="Total"
            class="form-control prc"
          />
        </div>
      </div>
    </form>

    <!-- jquery latest version -->
    <script src="assets/js/vendor/jquery-2.2.4.min.js"></script>
    <!-- bootstrap 4 js -->
    <script src="assets/js/popper.min.js"></script>
    <script src="assets/js/bootstrap.min.js"></script>
    <script src="assets/js/owl.carousel.min.js"></script>
    <script src="assets/js/metisMenu.min.js"></script>
    <script src="assets/js/jquery.slimscroll.min.js"></script>
    <script src="assets/js/jquery.slicknav.min.js"></script>

    <!-- others plugins -->
    <script src="assets/js/plugins.js"></script>
    <script src="assets/js/scripts.js"></script>

    <script>
      $(document).ready(function(e) {
        var i = 1;
        let maxInputSize = 10; // without includes main div

        // add buton
        $("#add").click(function(e) {
          if (i >= maxInputSize) {
            return alert("Passenger Limit range is 10");
          }
          i++;
          console.log("add", i);
          var html = `
          <div class='main-append' id="sec_div${i}">
          <button type="button" id="${i}" class="btn-danger mr-tb1 remove">Remove</button>
          <div class="form-group">
          <input
            type="number"
            name="tax1[]"
            id="tax1${i}"
            placeholder="Tax 1"
            class="form-control prc"
          />
        </div>
        <div class="form-group">
          <input
            type="number"
            name="tax2[]"
            id="tax2${i}"
            placeholder="Tax 2"
            class="form-control prc"
          />
        </div>
        <div class="form-group">
          <input
            type="number"
            name="tax3[]"
            id="tax3${i}"
            placeholder="Tax 3"
            class="form-control prc"
          />
        </div>
        <div class="form-group">
          <input
            type="number"
            name="tax4[]"
            id="tax4${i}"
            placeholder="Tax 4"
            class="form-control prc"
          />
        </div>
        <div class="form-group">
          <input
            type="number"
            name="tax5[]"
            id="tax5${i}"
            placeholder="Tax 5"
            class="form-control prc"
          />
        </div>
        <div class="form-group">
          <input
            type="number"
            name="total[]"
            id="total${i}"
            placeholder="Total"
            class="form-control prc"
          />
        </div>
        </div>
          `;

          $("#main-sec").append(html);
        });

        // remove button
        $(document).on("click", ".remove", function(e) {
          var remove_btn_id = $(this).attr("id");
          $("#sec_div" + remove_btn_id).remove();
          i--;
          console.log("remove", i);
        });

        // first element
        /* $(".form-group").on("input", ".prc", function(e) {
          let tax1 = 0;
          let tax2 = 0;
          let tax3 = 0;
          let tax4 = 0;
          let tax5 = 0;
          let total = 0;

          $("#tax1" + i).on("keyup", function() {
            tax1 = Number($(this).val());
            tax2 = Number($("#tax2" + i).val());
            tax3 = Number($("#tax3" + i).val());
            tax4 = Number($("#tax4" + i).val());
            tax5 = Number($("#tax5" + i).val());
            total = Number(tax1 + tax2 + tax3 + tax4 + tax5);
            $("#total" + i).val(total.toFixed(2));
          });
          $("#tax2" + i).on("keyup", function() {
            tax1 = Number($("#tax1" + i).val());
            tax2 = Number($(this).val());
            tax3 = Number($("#tax3" + i).val());
            tax4 = Number($("#tax4" + i).val());
            tax5 = Number($("#tax5" + i).val());
            total = Number(tax1 + tax2 + tax3 + tax4 + tax5);
            $("#total" + i).val(total.toFixed(2));
          });
          $("#tax3" + i).on("keyup", function() {
            tax1 = Number($("#tax1" + i).val());
            tax2 = Number($("#tax2" + i).val());
            tax3 = Number($(this).val());
            tax4 = Number($("#tax4" + i).val());
            tax5 = Number($("#tax5" + i).val());
            total = Number(tax1 + tax2 + tax3 + tax4 + tax5);
            $("#total" + i).val(total.toFixed(2));
          });
          $("#tax4" + i).on("keyup", function() {
            tax1 = Number($("#tax1" + i).val());
            tax2 = Number($("#tax2" + i).val());
            tax3 = Number($("#tax3" + i).val());
            tax4 = Number($(this).val());
            tax5 = Number($("#tax5" + i).val());
            total = Number(tax1 + tax2 + tax3 + tax4 + tax5);
            $("#total" + i).val(total.toFixed(2));
          });
          $("#tax5" + i).on("keyup", function() {
            tax1 = Number($("#tax1" + i).val());
            tax2 = Number($("#tax2" + i).val());
            tax3 = Number($("#tax3" + i).val());
            tax4 = Number($("#tax4" + i).val());
            tax5 = Number($(this).val());
            total = Number(tax1 + tax2 + tax3 + tax4 + tax5);
            $("#total" + i).val(total.toFixed(2));
          });
        }); */

        /* $(".form-group").on("input", ".prc", function(e) {
          let tax1 = 0;
          let tax2 = 0;
          let tax3 = 0;
          let tax4 = 0;
          let tax5 = 0;
          let total = 0;

          $("#tax1").on("keyup", function() {
            tax1 = Number($(this).val());
            tax2 = Number($("#tax2").val());
            tax3 = Number($("#tax3").val());
            tax4 = Number($("#tax4").val());
            tax5 = Number($("#tax5").val());
            total = Number(tax1 + tax2 + tax3 + tax4 + tax5);
            $("#total").val(total.toFixed(2));
          });
          $("#tax2").on("keyup", function() {
            tax1 = Number($("#tax1").val());
            tax2 = Number($(this).val());
            tax3 = Number($("#tax3").val());
            tax4 = Number($("#tax4").val());
            tax5 = Number($("#tax5").val());
            total = Number(tax1 + tax2 + tax3 + tax4 + tax5);
            $("#total").val(total.toFixed(2));
          });
          $("#tax3").on("keyup", function() {
            tax1 = Number($("#tax1").val());
            tax2 = Number($("#tax2").val());
            tax3 = Number($(this).val());
            tax4 = Number($("#tax4").val());
            tax5 = Number($("#tax5").val());
            total = Number(tax1 + tax2 + tax3 + tax4 + tax5);
            $("#total").val(total.toFixed(2));
          });
          $("#tax4").on("keyup", function() {
            tax1 = Number($("#tax1").val());
            tax2 = Number($("#tax2").val());
            tax3 = Number($("#tax3").val());
            tax4 = Number($(this).val());
            tax5 = Number($("#tax5").val());
            total = Number(tax1 + tax2 + tax3 + tax4 + tax5);
            $("#total").val(total.toFixed(2));
          });
          $("#tax5").on("keyup", function() {
            tax1 = Number($("#tax1").val());
            tax2 = Number($("#tax2").val());
            tax3 = Number($("#tax3").val());
            tax4 = Number($("#tax4").val());
            tax5 = Number($(this).val());
            total = Number(tax1 + tax2 + tax3 + tax4 + tax5);
            $("#total").val(total.toFixed(2));
          });
        }); */
      });
    </script>
  </body>
</html>
